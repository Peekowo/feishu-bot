import requests
import random
import os
import json

# 您的100条消息列表
messages = [
    "🐥 嘿，小鸡来查岗啦～日报写了吗？",
    "🐾 别再装忙啦，我都闻到你没写日报的味道了。",
    "🐱 日报没写？我就用爪子在你键盘上跳舞！",
    "🦊 来嘛来嘛，写日报的时候最可爱了～",
    "🐸 呱～日报呢？难道被青蛙吃了？",
    "🐶 汪！写日报！汪！再拖我可要叫了！",
    "🐢 慢慢写没关系，但要开始呀～",
    "🐭 小老鼠蹲在你桌角：日报什么时候交？",
    "🦜 啾——日报交上来！立刻！马上！",
    "🐥 我数到三：一、二、日报！",
    "🐱 不写日报？那我就趴你屏幕上挡住你。",
    "🐸 再不写日报，我就呱到你梦里去。",
    "🐤 叽叽叽～日报叽一下就写完啦～",
    "🦊 我偷看了一眼，你今天还没写。",
    "🐶 交日报吧～我保证不咬你。",
    "🐢 再磨蹭，日报都晒干啦。",
    "🦦 我游回来了，你的日报呢？",
    "🐥 小鸡叼来提醒：写日报喽～",
    "🐾 我的小爪爪都替你急了！",
    "🐱 日报写一行算一行，不许空白！",
    "🐸 青蛙议会决定：必须交日报！",
    "🐶 这不是催，是爱的提醒：写日报！",
    "🐰 胡萝卜都准备好了，就差日报了～",
    "🐤 咕咕咕～日报咕不得！",
    "🦊 今天的日报，要带点灵魂哦～",
    "🐢 我都写完壳纹了，你呢？",
    "🐭 小爪子轻戳你：写日报啦！",
    "🐱 打工猫上线，检查日报进度！",
    "🐸 再不写日报，青蛙就开跳了！",
    "🐶 听话～写完日报再摸我～",
    "🐥 你的日报，已经被我盯上啦。",
    "🐾 报告！这里有个逃避日报的人类！",
    "🐱 别抖，日报不会吃你，只会啃你时间。",
    "🦦 我咬着日报不撒嘴，你快写～",
    "🐢 乌龟都写完日报了，你还在拖？",
    "🐸 呱！日报要开会审查啦！",
    "🐭 咬咬笔～想不到写啥也得写！",
    "🐥 我给你一点可爱buff，请开始日报！",
    "🐾 叮——日报加载中，请勿退出！",
    "🐱 你写日报的样子，像只困猫。",
    "🦊 懒狐狸都开始写日报了，不然丢脸啦～",
    "🐸 呱呱呱～这是青蛙日报巡逻！",
    "🐶 汪汪～日报交上来我就放你走～",
    "🐢 我一步一行地写完了，你也行。",
    "🦦 如果日报能写自己就好了，对吧？",
    "🐥 我在等你的日报，就像等饭。",
    "🐱 呼噜呼噜～日报写完再奖励你摸头。",
    "🐭 小老鼠帮你找灵感啦，快写！",
    "🐸 呱～日报都凉了还不写？",
    "🐶 你要是写日报，我就摇尾巴～",
    "🦊 别磨蹭啦，日报比你还想结束！",
    "🐢 我比你慢，但日报比你早完成。",
    "🐥 啾～快写，不然我就乱叫。",
    "🐾 抓到没写日报的坏蛋一只！",
    "🐱 说好要写日报的呢？骗人！",
    "🐭 再不写日报，键盘都哭了。",
    "🐸 青蛙都在写日报，你在发呆。",
    "🐶 你写日报的时候真帅，真的！",
    "🦊 写日报的你有工作气息～（臭）",
    "🐥 叽～日报要交了叽～",
    "🐢 今天也要写得比昨天多一行！",
    "🐾 我递笔给你了，写吧。",
    "🐱 别瞪我，我只是负责提醒。",
    "🐭 小老鼠：日报？我帮你咬掉一半好了～",
    "🐸 呱～日报是今日必修课～",
    "🐶 咬咬咬——咬醒你写日报！",
    "🐥 我的小喙都快秃了，你还没写！",
    "🦊 再逃，我就给你日报打补丁！",
    "🐢 拖延乌龟都比你快一点～",
    "🐾 我已经写完了！（其实没有）",
    "🐱 我替你写一篇喵版日报如何？",
    "🐸 你不写日报，青蛙都看不下去了！",
    "🐭 写日报的时候可以吃零食，这很科学。",
    "🐶 不写日报，就没有骨头啃！",
    "🐥 啾！日报先交，再撒娇！",
    "🐾 我的小爪在倒数：3、2、日报！",
    "🐱 我不是催你，我是温柔地逼迫你。",
    "🦊 你写日报的样子，比平时乖多了。",
    "🐢 日报不是洪水，别怕。",
    "🐸 呱～日报要泡汤啦！",
    "🐭 你写日报我就给你加个‘聪明’buff～",
    "🐥 我帮你盯着时间，你只管写。",
    "🐶 这条提醒有点可爱，但别想逃～",
    "🐾 日报没写？那我就发十次。",
    "🐱 小猫叼来一句真理：日报要趁热写！",
    "🐸 呱呱呱～日报审核委员会在等你！",
    "🐭 偷偷告诉你：写完日报会变帅一点。",
    "🐥 咕咕～我已经帮你开好文档啦！",
    "🦊 小狐狸的友情提醒：日报，拜托你啦～",
    "🐢 别再卷自己了，写完日报早点休息。",
    "🐶 你今天写日报了吗？没有？我咬。",
    "🐱 伸个懒腰，再写点日报，好吗？",
    "🐾 可爱警告：日报写好会被夸哦！",
    "🐸 青蛙跳上来说：日报不写不许摸鱼～",
    "🐥 啾啾啾～日报时间，动起来！"
]

def send_to_feishu(message):
    webhook_url = os.getenv('FEISHU_WEBHOOK_URL')
    
    if not webhook_url:
        print("错误：未找到飞书Webhook URL")
        return False
        
    payload = {
        "msg_type": "text",
        "content": {
            "text": message
        }
    }
    
    try:
        response = requests.post(webhook_url, json=payload, timeout=10)
        if response.status_code == 200:
            print("消息发送成功！")
            return True
        else:
            print(f"发送失败，状态码：{response.status_code}")
            print(f"响应内容：{response.text}")
            return False
    except Exception as e:
        print(f"请求出错：{e}")
        return False

if __name__ == "__main__":
    # 随机选择一条消息
    random_message = random.choice(messages)
    print(f"选中消息：{random_message}")
    
    # 发送到飞书
    success = send_to_feishu(random_message)
    exit(0 if success else 1)